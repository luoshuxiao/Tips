# 一：\_\_str\__和\_\_repr\_\_函数
**两个函数都是object基类中定义用于表达输出结果的魔法函数，开发者可自行重构，但是重构后返回类型必须要是str类型**

    应用举例：比方说，现在我想要创建一个类，用来表示人，实例化出一个人的对象，我想用人的名字来代表这个人。直接打印这个
    对象就输出他的名字，而不是打印他的名字属性才输出名字，如何实现？

         我们首先是创建人这个类，class Person,然后是给他初始化对象属性，可以有性别性别年龄等等，再例化，
      a = Person('Susan'),如果就这样，那么print(a)的结果就是:<__main__.Person object at 0x0000000002422240>，
      输出结果是内存地址，所以在这个时候，我们就要重构str或者是repr方法，也就是说： 当你想要直接打印一个实例化对象，输 
      出你想要的目标格式，就可以通过重构这两种方法，去实现你自己想要的格式，而不是输出python中object基类默认的内存地址
      输出格式。

### 1. \__str\__函数
**str将对象的显示格式转换成便于programmer读取的字符串形式**
	
	如果想要输出的显示结果非常友好，有利于用户查看，而不是输出对象的内存地址，可以重构str函数，
	比如print函数，如果给print函数传入一个对象，执行过程是，print函数会默认调用该对象的类的
	str方法，如果该类没有str方法，程序会查找repr方法，没有的话就在父类找，直到object基类，
	如果找到了object，首先打出来str的返回值，也就是该对象在内存中的地址

### 2. \__repr\__函数
**repr将对象的显示格式转换为便于interpreter读取的字符串形式,可以通过eval()对对象进行表达**

	如果想要输出程序能够读取和解析的字符串，可以重构这个repr方法，也就是说这个字符串可以通过eval
	函数来当代码执行的输出格式

### 3. 调用情况：
	重构str函数： 当程序直接输出显示对象时，依然输出内存地址，通过print打印显示对象时，输出str重构的格式
	重构repr函数： 程序直接输出显示和通过print打印输出的结果，都是repr重构的格式，还有就是当再程序开发
	             过程中，需要通过这个输出进行代码交互的时候，需要用repr函数

    注意：一般情况下，只考虑输出结果给用户，重构两个中的任何一个都是可以的，
          当我们想所有环境下都统一显示的话，可以重构\__repr\__方法,
          当对象比较复杂，有嵌套层次存在，要重构\__repr\__才有效，因为计算机
          在\__repr\__中能识别出嵌套层的对象，从而将嵌套层的对象也格式化输出，而
          \__str\__函数并不能做到这一点。

![没有重构str或者repr函数时，对象的显示结果.png](https://upload-images.jianshu.io/upload_images/14977853-38e6e0ac4599b70d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![重构str后对象的显示结果.png](https://upload-images.jianshu.io/upload_images/14977853-1672ab5bd14fc8a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![重构repr后对象显示结果.png](https://upload-images.jianshu.io/upload_images/14977853-93c286ad5ec83e2a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# 二： \_\_new\_\_和\_\_init\__的区别和关联：
**特别注意：python类实例化时默认（自身未重构\__new\__）都是调用父类的\__new\__方法，不会也不能调用自己的\__new\__方法，避免陷入死循环**
## 1. 区别：
### a. 调用顺序先后 -->  实例化时，先调用\__new\__方法，后调用\__init\__方法
### b. 类别不同 --> \__new\__是类的静态方法（实例化方法），\__init\__是对象方法（构造方法）
### c. 功能不同 --> \__new\__是将类实例化的方法，\__init\__是接受\__new\__参数和返回的实例化对象，构造并且初始化对象，所以也叫对象的初始化方法
### d. 调用方式不同 --> 类实例化（自身未重构\__new\__）调用父类的\__new\__方法，初始化对象调用的是自己的\__init\__方法

## 2. 联系（四种特殊情况）：
### a. 默认情况：
	python源码默认的是实例化方法__new__在对象实例化时首先被调用，如果没有重构，默认是调用父类的实例化
	方法，父类也没有重构，再调用父类的父类，直到基类object的__new__方法，返回父类构造的实例化
	对象和实例化时接受的参数给__init__方法对对象进行初始化构造；
### b. 重构\__new\__方法，正常返回该类实例化对象和接受的参数：
	如果程序员自定义重构了要实例化类的__new__方法，实例化时就不调用父类的__new__方法，并且
	重构的__new__方法正常返回，即返回父类的实例化对象和接受的参数给__init__，那么正常初始化
	构造该类的实例化对象；
### c. 重构\__new\__方法，不返回实例化对象
    如果重构的__new__方法不返回当前类的实列对象，那么当前类的__init__方法不会被调用；
### d. 重构\__new\__方法，返回其他类的实例化对象
    如果__new__方法返回其他类的实列对象，那么只会调用被返回对象的所属类的__init__方法。