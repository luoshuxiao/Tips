# 一： TCP和UDP区别
### 1. 区别 
	   a. 建立连接方面： TCP在数据传输之前，客户端和服务器会建立通信连接后再数据传输，
	                    而UDP不会建立连接，直接传输数据；
	   b. 占用系统资源方面： TCP由于在建立连接和数据传输时，会进行通信，占用资源较多
	                       UDP不会进行通信，占用资源较少；
	   c. 数据的可靠性： TCP在数据传输时会有确认、窗口、重传、拥塞控制机制，数据的可靠性高，
	                    UDP没有建立连接，是一个无状态的传输协议，数据可靠性差，不保证数据的有序性、完整性等；
	   d. 传输数据的效率、时长： TCP传输要建立连接，传输时还要保证数据的可靠性，程序结构复杂花费时间长，
	                     UDP不建立连接，传输时间短；
	   e. 传输数据的 ： TCP只能是点到点，一个连接是一个服务器对一个客户端传输，而UDP可以实现一对一，
	                  一对多或者多对一，多对多的交互通信
### 2. 优缺点 ：
    a. TCP -- 优点：数据可靠、如果数据丢失，会重发，保证到达的数据的可靠性；
           -- 缺点：传输效率低，花费时间长，占用系统资源高，易被攻击；
    b. UDP -- 优点：数据传输快，安全性比TCP稍微高点，因为传输过程没有那么复杂，也就没有那么多漏洞
                    提供给黑客，但是也是无法完全避免被攻击的；
              缺点：数据的可靠性很差，只是负责传输，不保证数据的完整等性能，可能出现数据丢失、乱序等
### 3. 应用场景：
    TCP -- 对网络通讯的质量要求高，即数据的要求比较高，比如数据要完整的传输给对方，比如HTTP、HTTPS、FTP
           等文件传输协议，POP、SMTP等邮件传输协议，如浏览器用的HTTP FlashFXP，FTP Outlook，POP、
           SMTP Putty，Telnet、SSH QQ文件传输 ；
    UDP -- 对网络通讯质量要求不高，但是对通讯速度要求快，如QQ语音、视频TFTP等等。
# 二： 三次握手，四次挥手 -- TCP
**--> TCP提供了一种可靠、面向连接、字节流、传输层的服务，采用三次握手建立一个连接，四次挥手关闭一个连接**

### 1.TCP连接：

     一个TCP连接由又一个4元祖构成，分别是两个ip地址和两个端口号，一个TCP连接通常分为三个阶段：启动、数据传输、关闭。
### 2.三次握手（三个报文段）：
    a. 原理：
    为什么要三次握手：客户端和服务端通信前要进行连接，三次握手的作用就是让双方都能明确自己和对方的数据接收和发送能力是否正常
    第一次：客户端发送网络包，服务端收到，这个事件对于服务端来说，可以确认客户端的发送能力，和自己的接受能力正常；
           但是对于客户端，什么都不能确认
    第二次：服务端发包，客户端收到，这样对于客户端来说，可以确认自己的发送和接受能力，也可以确认服务端的
           接收和发送能力是正常的，但是，对于服务端来说，它还是不能确认自己的发送能力和客户端的接受能力是否正常，所以需要第三次握手，即客户端再发包
    第三次：客户端再次发包，服务端收到，这样对于服务端来说就可以确认自己的发送和客户端的接收能力是正常的，
           所以，经过以上三次握手，双方都能分别确认对方和自己的发送、接收功能正常，之后就可以正常通信了。

    b. 具体实现：
    第一次：客户端发送一个SYN创建一个连接，序号设定为随机数A；
    第二次：服务端回应一个SYN/ACK,ACK的确认码为A+1，SYN/ACK;
    第三次：客户端再发送一个ACK，，服务端收到这个ACK，完成三次握手，进入连接创建状态，此时包序号被设定为
           收到的确认号A+1，而响应则为B+1；
### 3.四次挥手（四个报文段）：
**中断连接可以是客户端也可以是服务端，但是原理都一样**

	客户端中断连接的四次握手：
	     第一次：客户端发送一个数据分段，其中的FIN标记设置为1，客户端进入FIN-WAIT状态（只接受不发送数据）；
	     第二次：服务端接收到FIN=1数据分段，发送带有ACK=1的剩余数据分段，确认收到客户端发来的FIN信息；
	     第三次：服务器等到所有数据传输结束，先客户端发送一个带有FIN=1的数据分段，并进入CLOSE-WAIT状态，等
	            待客户端发来带有ACK=1的确认报文；
	     第四次：客户端收到服务器发来带有FIN=1的报文，返回 ACK=1的报文确认，为了防止服务端未收到需要重发，
	            进入TIME-WAIT状态，服务器接收到报文后关闭连接，客户端等待2MSL后未收到回复，则认为服务器
	            成功关闭，客户端也关闭连接。