# 一： 事务的四个基本要素：
	a. 原子性 -- 事务是一个原子操作单元，对数据的修改要么全都执行，要么全都不执行；
	b. 一致性 -- 事务开始前和结束后，数据库的完整性约束没有被破坏；
	c. 隔离性 -- 同一时间，同一数据只允许一个事务进行更新，不同事务之前不受干扰；
	d. 持久性 -- 事务完成后，事务对数据来的所有更新将被保存到数据库，不能回滚；
# 二： 解析器 -->
	缓存不命中情况下，进入解析器，解析器分两步对sql进行解析：
		解析步骤一：词法分析
		    从左往右一个字符一个字符地输入，然后根据构词规则识别单词，然后生成多个token；
		解析步骤二：语法解析
		    判断是否符合mysql的语法规则，如果不符合规则，抛出错误提示；如果语法正确，会生成一个语
            法树，送入到预处理器；
### 第四步： 预处理器 -->
     预处理器会对sql涉及的表名、列名、数据库等做匹配，看是否存在这些名字，不存在会抛出错误提示，然
     后再做权限验证，看是否具备操作权限，然后将这个语法树传递给优化器；
### 第四步： 优化器 -->
     优化器是针对语法树做优化，判断如何查询才能更快，生成一个执行计划，将执行计划交给执行器；
### 第五步： 执行器 -->
     执行器通过执行计划，一条一条的调用底层的存储引擎，逐步执行指令；
     mysql定义了一系列抽象的存储引擎API，支持插件式存储引擎架构。mysql实现了一个抽象接口层，叫做
     handler(sql/handler.h),其中定义了接口函数，比如：ha_open,ha_index_end,ha_create等等，存
     储引擎需要实现 这些接口才能被系统使用；
### 第六步： 返回结果
    最后，mysql会将查询的结果返回给客户端，如果是select类型的sql会将其缓存起来，其他类型的sql，会
    将该表涉及到的查询缓存清空（mysql8.0版本后取消缓存机制）；

# 二： 数据库的存储过程
**一组为了完成特定功能的SQL语句集，经编译后存储在数据库中，用户通过指定存储过程的名字并给出参数（如果需要）来执行它，返回数据**

	存储过程优点：
	（1） 减少网路通信量：SQL语句不多情况下网络通信量可能没什么区别，当SQL语句成百上千，那么
	                    性能肯定比一条一条的调用SQL语句高得多；
	（2） 执行速度更快: 存储过程在创建的时候数据库会对其进行解析优化，并且存储过程一旦执行，
	                  内存中就会有备份，下次再执行相同存储过程，可以从内存中直接读取；
	（3） 更强的安全性： 存储过程是通过向用户授权而不是基于表，提供特定数据的访问权限，提高代
	                   码安全性，比如房子SQL注入
	（4） 业务逻辑可以封装在存储过程中，容易维护，执行效率高；
	
	缺点：
	（1） 可移植性：从一种数据库迁移到另外一种数据库时，不少的存储过程的编写要进行部分修改；
	（2） 储存过程需要花费一定时间去学习，有自己的语法；

# 三： 索引与查询效率
**创建索引，可将查询由全表扫描改为索引扫描,其中关系型数据库的关系模型是通过二维表来保存的，它的存储方式是行列组成的表，每一列是一个字段，每一行是一条记录**
### 1.什么是索引：

mysql官方对于索引的定义为：索引是帮助mysql高效获取数据的数据结构，即可以理解为索引是数据结构。实质上，在数据之外，数据库系统还维护者满足特定查找算法的数据结构，这些数据结构以某种方式应用数据，这样就可以在这些数据结构上实现高级查找算法。这种数据结构，通常就是索引表结构。

索引提供指向存储在表的指定列中的数据值得指针，然后根据指定的排序顺序（通常是B树结构）对这些指针排序，数据库使用索引的方式和使用书籍中的索引的方式很相似：它搜索索引找到特征值所在的磁盘块，然后找到包含该值得行。
### 2.索引查询：
	不管数据表有无索引，首先在SGA的数据缓冲区中查找所需要的数据，如果数据缓冲区中没有需要的数据
    时，服务器进程才会去读磁盘。当条件字段没有创建索引时，服务器时直接去读取表数据存放的磁盘块，
    读到数据缓冲区中再查找需要的数据；当该字段有索引，则是先读取索引表，通过索引定位所需数据的物
    理地址，并把数据读入数据缓存区。
### 3.索引的副作用:
     1)索引是有大量数据的时候才建立，没有大量数据反而会浪费时间和资源，因为索引是使用二叉树建立
     2)当一个系统查询比较频繁，而新建和修改等操作比较少时，可以创建索引，这样查询的速度会快很多，
        但是新建或者修改等操作，比没有缩影或者没有建立覆盖索引时要慢
     3)索引并不是越多越好，太多索引会占用很多的索引空间，甚至比存储一条记录更多
对于需要频繁新增记录的表，最好不要创建索引，没有索引的表，执行insert、append都很快，有了索引以后，会多一个维护索引的操作，一些大表可能导致insert速度很慢。